#!/bin/bash

if [ "$TP_SISOP_INIT" == "YES" ] #Variable que vendría de más arriba
then	
	ps cax | grep "procesoSisOp.sh" > /dev/null

	if [ $? -eq 0 ]; 
	then
		echo "============ [ERROR] procesoSisOp.sh ya se encuentra en ejecución ============"
		"$BINDIR"/glog "start" "No se pudo invocar el comando debido a que procesoSisOp.sh ya se encuentra en ejecución" "ERROR"		
	else
		echo "============ Invocación de comando correcta. Se inicia procesoSisOp.sh ============"
		"$BINDIR"/glog "start" "Se invoca el comando correctamente. Se inicia procesoSisOp.sh"
		"$BINDIR"/procesoSisOp.sh &
	fi
else
	echo "============ [ERROR] No se puede invocar el comando ya que el sistema no se encuentra inicializado ============"
	./glog "start" "No se pudo invocar el comando ya que el sistema no se encuentra inicializado" "ERROR"
fi
